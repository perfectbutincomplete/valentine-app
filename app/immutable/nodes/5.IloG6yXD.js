import{d as P,s as A,a as E,f as T,c as Z}from"../chunks/xb9eWh_e.js";import{o as aa}from"../chunks/C7vWIKlG.js";import{h as ta,ay as ea,az as ia,aA as sa,aB as oa,ag as z,ak as n,al as o,am as g,ai as I,aj as B,ah as la,a0 as H,at as S,Y as M,x as r,au as ra,ax as K}from"../chunks/BBHjuitq.js";import{e as $,s as na}from"../chunks/DB6_87id.js";import{t as q,s as da,f as V}from"../chunks/C20a0blh.js";import{s as D}from"../chunks/QqDisodb.js";import{p as w}from"../chunks/B6ijnidv.js";import{i as ca}from"../chunks/R4DkLa8W.js";import{b as _}from"../chunks/CpSE531D.js";const va=Symbol("is custom element"),pa=Symbol("is html");function L(t,a,e,d){var i=ga(t);ta&&(i[a]=t.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&t.nodeName==="LINK")||i[a]!==(i[a]=e)&&(a==="loading"&&(t[ea]=e),e==null?t.removeAttribute(a):typeof e!="string"&&ma(t).includes(a)?t[a]=e:t.setAttribute(a,e))}function ga(t){return t.__attributes??={[va]:t.nodeName.includes("-"),[pa]:t.namespaceURI===ia}}var G=new Map;function ma(t){var a=t.getAttribute("is")||t.nodeName,e=G.get(a);if(e)return e;G.set(a,e=[]);for(var d,i=t,c=Element.prototype;c!==i;){d=oa(i);for(var v in d)d[v].set&&e.push(v);i=sa(i)}return e}var fa=T('<div class="photo-card svelte-1ajugji"><div class="photo-image-container svelte-1ajugji"><img class="photo-image svelte-1ajugji" loading="lazy"/></div> <div class="photo-info svelte-1ajugji"><div class="photo-location svelte-1ajugji"><span class="svelte-1ajugji"> </span></div> <div><i></i> <span class="likes-count"> </span></div></div></div>');function ua(t,a){z(a,!0);let e=w(a,"isLiked",3,!1);function d(x){x.stopPropagation(),a.onLike?.()}function i(){a.onImageClick?.(a.photo)}var c=fa(),v=n(c);v.__click=i;var j=n(v);o(v);var y=g(v,2),C=n(y),b=n(C),m=n(b,!0);o(b),o(C);var p=g(C,2);let f;p.__click=d;var u=n(p),h=g(u,2),k=n(h,!0);o(h),o(p),o(y),o(c),I(()=>{L(j,"src",a.photo.thumbnail),L(j,"alt",a.photo.caption),A(m,a.photo.location),f=D(p,1,"photo-like svelte-1ajugji",null,f,{liked:e()}),D(u,1,`fa${e()?"s":"r"} fa-heart`,"svelte-1ajugji"),A(k,a.likesCount)}),E(t,c),B()}P(["click"]);var ha=T('<div class="modal svelte-1f574fq" role="dialog" aria-modal="true" tabindex="-1"><button class="modal-close svelte-1f574fq"><i class="fas fa-times"></i></button> <div class="modal-content svelte-1f574fq"><img class="modal-image svelte-1f574fq"/> <div class="modal-caption svelte-1f574fq"> </div></div></div>');function ka(t,a){z(a,!0);let e=w(a,"isOpen",3,!1),d=w(a,"imageUrl",3,""),i=w(a,"caption",3,"");function c(){a.onClose?.()}function v(m){m.target===m.currentTarget&&c()}function j(m){m.key==="Escape"&&c()}var y=Z(),C=la(y);{var b=m=>{var p=ha();p.__click=v,p.__keydown=j;var f=n(p);f.__click=c;var u=g(f,2),h=n(u),k=g(h,2),x=n(k,!0);o(k),o(u),o(p),I(()=>{L(h,"src",d()),L(h,"alt",i()),A(x,i())}),q(3,u,()=>da,()=>({duration:300})),q(3,p,()=>V,()=>({duration:200})),E(m,p)};ca(C,m=>{e()&&m(b)})}E(t,y),B()}P(["click","keydown"]);var _a=T('<div class="float-frame svelte-1pgek9m"></div>'),ja=T('<div class="photos-page svelte-1pgek9m"><div class="gradient-bg svelte-1pgek9m"></div> <div class="floating-frames svelte-1pgek9m"></div> <div class="photos-container svelte-1pgek9m"><div class="photos-header svelte-1pgek9m"><h1 class="photos-title svelte-1pgek9m">Наши фото</h1> <p class="photos-subtitle svelte-1pgek9m"><i class="fas fa-camera svelte-1pgek9m"></i> MOMENTS <i class="fas fa-heart svelte-1pgek9m"></i></p></div> <div class="polaroid-feature svelte-1pgek9m"><div class="feature-image-container svelte-1pgek9m"><img class="feature-image svelte-1pgek9m" loading="lazy"/> <div class="image-overlay svelte-1pgek9m"><div class="image-caption svelte-1pgek9m"> </div> <div class="image-date svelte-1pgek9m"><i class="fas fa-calendar-alt svelte-1pgek9m"></i> </div></div></div> <div class="polaroid-footer svelte-1pgek9m"><span class="polaroid-title svelte-1pgek9m">LOVE STORY</span> <span class="polaroid-heart svelte-1pgek9m">❤️</span></div></div> <div class="gallery-grid svelte-1pgek9m"></div></div> <!></div>');function Sa(t,a){z(a,!0);const e=[{id:1,url:`${_}/photos/photo-1.jpg`,thumbnail:`${_}/photos/photo-1.jpg`,location:"Бишкек",caption:"Ночная прогулка",likes:67},{id:2,url:`${_}/photos/photo-2.jpg`,thumbnail:`${_}/photos/photo-2.jpg`,location:"Бишкек",caption:"Кинотеатр",likes:67},{id:3,url:`${_}/photos/photo-3.jpg`,thumbnail:`${_}/photos/photo-3.jpg`,location:"Бишкек",caption:"Зимняя прогулка",likes:67},{id:4,url:`${_}/photos/photo-4.jpg`,thumbnail:`${_}/photos/photo-4.jpg`,location:"Бишкек",caption:"Двойное свидание",likes:67}],d={url:`${_}/photos/feature.jpg`,caption:"Галерея ❤️",date:"21 ноября 2024"};let i=H({}),c=S(!1),v=S(""),j=S(""),y=S(H([]));aa(()=>{e.forEach(l=>{i[l.id]={count:l.likes,liked:!1}}),M(y,Array.from({length:20},(l,s)=>({id:s,left:Math.random()*100,width:Math.random()*40+40,height:Math.random()*20+50,rotation:Math.random()*40-20,duration:Math.random()*20+20,delay:Math.random()*10,opacity:Math.random()*.3+.1})),!0)});function C(l){const s=i[l];i[l]={liked:!s.liked,count:s.count+(s.liked?-1:1)}}function b(l){M(v,l.url,!0),M(j,`${l.caption}, ${l.location}`),M(c,!0)}function m(){M(v,d.url,!0),M(j,`${d.caption}, ${d.date}`),M(c,!0)}function p(){M(c,!1)}var f=ja(),u=g(n(f),2);$(u,21,()=>r(y),l=>l.id,(l,s)=>{var O=_a();I(()=>na(O,`left: ${r(s).left??""}%; width: ${r(s).width??""}px; height: ${r(s).height??""}px; --rot: ${r(s).rotation??""}deg; animation-duration: ${r(s).duration??""}s; animation-delay: ${r(s).delay??""}s; opacity: ${r(s).opacity??""};`)),E(l,O)}),o(u);var h=g(u,2),k=g(n(h),2);k.__click=m;var x=n(k),N=n(x),R=g(N,2),U=n(R),J=n(U,!0);o(U);var Y=g(U,2),Q=g(n(Y));o(Y),o(R),o(x),ra(2),o(k);var F=g(k,2);$(F,21,()=>e,l=>l.id,(l,s)=>{{let O=K(()=>i[r(s).id]?.liked||!1),X=K(()=>i[r(s).id]?.count||r(s).likes);ua(l,{get photo(){return r(s)},get isLiked(){return r(O)},get likesCount(){return r(X)},onLike:()=>C(r(s).id),onImageClick:b})}}),o(F),o(h);var W=g(h,2);ka(W,{get isOpen(){return r(c)},get imageUrl(){return r(v)},get caption(){return r(j)},onClose:p}),o(f),I(()=>{L(N,"src",d.url),L(N,"alt",d.caption),A(J,d.caption),A(Q,` ${d.date}`)}),q(1,f,()=>V),E(t,f),B()}P(["click"]);export{Sa as component};
