import{f as O,j as W,v as K,h as m,o as k,w as Z,k as $,x as B,l as j,H as ee,n as V,t as F,i as D,C as re,y as ne,z as Y,c as fe,A,g as z,s as ae,B as ie,D as le,F as q,G as se,I as ue,J as oe,K as G,L as te,b as P,p as Q,M as y,q as ve,N as de,O as ce,P as pe,d as _e,Q as he}from"./BBHjuitq.js";import{t as ge}from"./QqDisodb.js";function we(e,n){return n}function Ee(e,n,l){for(var t=[],_=n.length,s,u=n.length,p=0;p<_;p++){let g=n[p];Q(g,()=>{if(s){if(s.pending.delete(g),s.done.add(g),s.pending.size===0){var o=e.outrogroups;L(q(s.done)),o.delete(s),o.size===0&&(e.outrogroups=null)}}else u-=1},!1)}if(u===0){var a=t.length===0&&l!==null;if(a){var v=l,f=v.parentNode;pe(f),f.append(v),e.items.clear()}L(n,!a)}else s={pending:new Set(n),done:new Set},(e.outrogroups??=new Set).add(s)}function L(e,n=!0){for(var l=0;l<e.length;l++)_e(e[l],n)}var J;function Ie(e,n,l,t,_,s=null){var u=e,p=new Map,a=(n&K)!==0;if(a){var v=e;u=m?k(Z(v)):v.appendChild(O())}m&&$();var f=null,g=ie(()=>{var i=l();return le(i)?i:i==null?[]:q(i)}),o,c=!0;function C(){r.fallback=f,Ae(r,o,u,n,t),f!==null&&(o.length===0?(f.f&A)===0?P(f):(f.f^=A,R(f,null,u)):Q(f,()=>{f=null}))}var N=W(()=>{o=B(g);var i=o.length;let S=!1;if(m){var b=j(u)===ee;b!==(i===0)&&(u=V(),k(u),F(!1),S=!0)}for(var E=new Set,w=fe,x=ae(),h=0;h<i;h+=1){m&&D.nodeType===re&&D.data===ne&&(u=D,S=!0,F(!1));var I=o[h],H=t(I,h),d=c?null:p.get(H);d?(d.v&&Y(d.v,I),d.i&&Y(d.i,h),x&&w.skipped_effects.delete(d.e)):(d=Te(p,c?u:J??=O(),I,H,h,_,n,l),c||(d.e.f|=A),p.set(H,d)),E.add(H)}if(i===0&&s&&!f&&(c?f=z(()=>s(u)):(f=z(()=>s(J??=O())),f.f|=A)),m&&i>0&&k(V()),!c)if(x){for(const[U,X]of p)E.has(U)||w.skipped_effects.add(X.e);w.oncommit(C),w.ondiscard(()=>{})}else C();S&&F(!0),B(g)}),r={effect:N,items:p,outrogroups:null,fallback:f};c=!1,m&&(u=D)}function M(e){for(;e!==null&&(e.f&de)===0;)e=e.next;return e}function Ae(e,n,l,t,_){var s=(t&ce)!==0,u=n.length,p=e.items,a=M(e.effect.first),v,f=null,g,o=[],c=[],C,N,r,i;if(s)for(i=0;i<u;i+=1)C=n[i],N=_(C,i),r=p.get(N).e,(r.f&A)===0&&(r.nodes?.a?.measure(),(g??=new Set).add(r));for(i=0;i<u;i+=1){if(C=n[i],N=_(C,i),r=p.get(N).e,e.outrogroups!==null)for(const d of e.outrogroups)d.pending.delete(r),d.done.delete(r);if((r.f&A)!==0)if(r.f^=A,r===a)R(r,null,l);else{var S=f?f.next:a;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),T(e,f,r),T(e,r,S),R(r,S,l),f=r,o=[],c=[],a=M(f.next);continue}if((r.f&y)!==0&&(P(r),s&&(r.nodes?.a?.unfix(),(g??=new Set).delete(r))),r!==a){if(v!==void 0&&v.has(r)){if(o.length<c.length){var b=c[0],E;f=b.prev;var w=o[0],x=o[o.length-1];for(E=0;E<o.length;E+=1)R(o[E],b,l);for(E=0;E<c.length;E+=1)v.delete(c[E]);T(e,w.prev,x.next),T(e,f,w),T(e,x,b),a=b,f=x,i-=1,o=[],c=[]}else v.delete(r),R(r,a,l),T(e,r.prev,r.next),T(e,r,f===null?e.effect.first:f.next),T(e,f,r),f=r;continue}for(o=[],c=[];a!==null&&a!==r;)(v??=new Set).add(a),c.push(a),a=M(a.next);if(a===null)continue}(r.f&A)===0&&o.push(r),f=r,a=M(r.next)}if(e.outrogroups!==null){for(const d of e.outrogroups)d.pending.size===0&&(L(q(d.done)),e.outrogroups?.delete(d));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||v!==void 0){var h=[];if(v!==void 0)for(r of v)(r.f&y)===0&&h.push(r);for(;a!==null;)(a.f&y)===0&&a!==e.fallback&&h.push(a),a=M(a.next);var I=h.length;if(I>0){var H=(t&K)!==0&&u===0?l:null;if(s){for(i=0;i<I;i+=1)h[i].nodes?.a?.measure();for(i=0;i<I;i+=1)h[i].nodes?.a?.fix()}Ee(e,h,H)}}s&&ve(()=>{if(g!==void 0)for(r of g)r.nodes?.a?.apply()})}function Te(e,n,l,t,_,s,u,p){var a=(u&se)!==0?(u&ue)===0?oe(l,!1,!1):G(l):null,v=(u&te)!==0?G(_):null;return{v:a,i:v,e:z(()=>(s(n,a??l,v??_,p),()=>{e.delete(t)}))}}function R(e,n,l){if(e.nodes)for(var t=e.nodes.start,_=e.nodes.end,s=n&&(n.f&A)===0?n.nodes.start:l;t!==null;){var u=he(t);if(s.before(t),t===_)return;t=u}}function T(e,n,l){n===null?e.effect.first=l:n.next=l,l===null?e.effect.last=n:l.prev=n}function Ne(e,n,l,t){var _=e.__style;if(m||_!==n){var s=ge(n);(!m||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=n}return t}export{Ie as e,we as i,Ne as s};
